<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <div class="child-container">
            <h1 class="main-header">Tip Calculator</h1>
            <form return false>
                <div class="div1">
                    <h3 class="sub-header">Bill Amount ($)</h3>
                        <input class="billClass" id="amount1" type="text" placeholder="ie. 30.00">
                </div class="div1">

                <div class="div2">
                    <h3 class='sub-header'>Tip Percentage (%)</h3>
                        <input class="tipClass" id="amount2" type="text" placeholder="ie. 15">
                </div>
    
                <div class="div3">
                    <button onclick="calculateTip()" class="button" type="submit">Calculate Total</button>
                </div>
            </form>
    
                <div class="div4">
                    <h3 class='sub-header'>Total Amount ($)</h3>
                            <p class="totalAmount">0.00</p>  
                </div>

                <div class="div5">
                    <h3 class='sub-header'>Tip Amounts ($)</h3>
                    <ul class="tip-list"></ul>
                </div>
        </div>
    </div>
    <footer>Created by Randy Chong</footer>
</body>
<script>
    function calculateTip (){
        let billAmount = document.querySelector(".billClass").value
        let tipPercentage = document.querySelector(".tipClass").value
        let total = document.querySelector(".totalAmount")
        
        billAmount = Number(billAmount)
        tipPercentage = Number(tipPercentage) / 100
        tipAmount = billAmount * tipPercentage
        finalAmount = billAmount + tipAmount
        total.innerHTML = finalAmount.toFixed(2)

        let grabList = document.querySelector('.tip-list')
        let listItem = document.createElement('li')
        listItem.innerText = tipAmount.toFixed(2)
        grabList.append(listItem)
        
        const form = document.querySelector("form")
    
        const validateNumber = (number) => {
            myRegex = /^-?\d+\.?\d*$/
            return myRegex.test(number)
        }
    
        form.addEventListener("submit", (event) => {
            const bill = document.querySelector("#amount1")
            if (!validateNumber(bill.value)) {
                event.preventDefault()
                alert("Please enter in numbers only")
            }
        })

        form.addEventListener("submit", (event) => {
            const bill = document.querySelector("#amount2")
            if (!validateNumber(bill.value)) {
                event.preventDefault()
                alert("Please enter in numbers only")
            }
        })
    }

</script>
</html>